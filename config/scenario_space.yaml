# scenario_space.yaml
global:
  seed: 42
  horizon_hours: 24
  dt_minutes: 15
  target_scenarios: 10
  max_scenarios_per_hour_per_core: 0.5   # calibration locale
  cpu_cores: 32
  max_compute_hours: 168

structure:
  regions: [2, 5]
  zones_per_region: [3, 9]
  sites_per_zone: [2, 8]
  intertie_density: [0.2, 0.6]
  neighbor_nations: [1, 3]

assets:
  thermal_per_site: [0, 3]
  solar_per_site: [1, 3]
  wind_per_site: [1, 3]
  battery_per_site: [0, 2]
  dr_per_site: [0, 2]
  nuclear_per_region: [0, 2]
  hydro_reservoir_per_region: [0, 3]
  hydro_ror_per_zone: [0, 2]
  hydro_pumped_per_region: [0, 2]

economics_policy:
  co2_price_eur_per_t: [35, 250]
  price_cap_eur_per_mwh: [180, 4500]
  cross_border_policy: ["allow", "cap", "block"]
  import_export_caps_factor: [0.4, 1.6]

techno_params_scalers:
  thermal_marg_cost: [0, 15]              # additional variable O&M cost adders
  thermal_ramp_pct: [0.05, 0.45]
  battery_roundtrip_eff: [0.78, 0.94]
  battery_e_to_p_hours: [1.0, 6.0]
  dr_max_shed_share: [0.05, 0.35]
  dr_duration_hours: [1, 6]
  hydro_reservoir_head_eff: [0.75, 1.05]
  battery_initial_soc_fraction: [0.35, 0.65]
  battery_final_soc_tolerance: [0.05, 0.18]
  battery_self_discharge_per_hour: [0.001, 0.01]
  pumped_initial_level_fraction: [0.4, 0.7]
  pumped_final_level_tolerance: [0.05, 0.18]
  pumped_self_discharge_per_hour: [0.0005, 0.004]

operation_costs:
  thermal_fuel_eur_per_mwh: [45, 85]
  nuclear_fuel_eur_per_mwh: [8, 16]
  demand_response_cost_eur_per_mwh: [350, 1200]
  value_of_lost_load_eur_per_mwh: [6000, 12000]
  renewable_spill_cost_eur_per_mwh: [500, 2000]
  hydro_spill_cost_eur_per_mwh: [250, 1200]
  overgen_spill_cost_eur_per_mwh: [2000, 8000]
  battery_cycle_cost_eur_per_mwh: [2.0, 8.0]
  pumped_cycle_cost_eur_per_mwh: [1.0, 4.5]

exogenous:
  weather_profiles: ["calm_winter", "stormy_winter", "sunny_summer", "overcast_summer", "mixed"]
  weather_spread_intensity: [0.5, 1.5]
  demand_profiles: ["wkday_peak", "wkend_flat", "cold_snap", "heatwave", "shoulder"]
  demand_scale_factor: [0.65, 1.35]
  inflow_factor: [0.4, 1.7]
  zone_profile_variants:
    evening_peak: 0.28
    double_peak: 0.16
    office_peak: 0.20
    industrial: 0.14
    night_shift: 0.10
    residential_morning: 0.12
  zone_profile_mix_weight: [0.4, 0.8]
  zone_profile_phase_shift_hours: [-2.5, 2.5]
  zone_profile_noise_std: [0.02, 0.06]
  zone_profile_curvature_exp: [0.9, 1.18]

diversity:
  selection_method: "greedy_cover"
  cover_metric: ["regions", "zones", "intertie_density", "co2_price_eur_per_t",
                 "demand_scale_factor", "zone_profile_mix_weight", "weather_profiles", "cross_border_policy"]
  min_pairwise_distance: 0.35

budget_guard:
  max_vars_per_scenario: 140000
  max_cons_per_scenario: 200000
  mip_gap_target: [0.4, 1.5]
  time_estimator:
    base_intercept_sec: 240
    per_1k_vars_sec: 22
    per_1k_cons_sec: 28
    branching_penalty: 1.1
  reject_if_est_cpu_hours_gt: 3.0
